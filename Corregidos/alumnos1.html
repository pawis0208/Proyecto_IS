<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Devolución – Ing. Eléctrica–Electrónica</title>

<!-- Iconos -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
  :root{
    --bg1:#6f0007;           /* guinda oscuro (degradado) */
    --bg2:#b01012;           /* guinda claro (degradado)  */
    --card:#ffffff;          /* tarjeta blanca           */
    --panel:#e9eaed;         /* gris claro panel derecho */
    --ink:#2b2b2b;           /* texto principal          */
    --muted:#6a6a6a;         /* texto secundario         */
    --accent:#a30d10;        /* botones guinda           */
    --accent-dark:#7c0a0c;   /* hover botón              */
    --stroke:#cfcfd3;        /* bordes claros            */
  }

  /* ===== Base ===== */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: "Inter", system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    color:var(--ink);
    background: radial-gradient(1200px 600px at 10% 10%, #3a0002 0%, transparent 60%) ,
                linear-gradient(135deg,var(--bg2),var(--bg1));
  }

  .wrap{
    padding:28px 20px;
    display:flex;
    align-items:center;
    justify-content:center;
    min-height:100%;
  }

  .frame{
    width:min(1100px, 96vw);
    background:var(--card);
    border-radius:16px;
    box-shadow: 0 20px 50px rgba(0,0,0,.35);
    padding:18px 22px 24px;
    position:relative;
    border: 4px solid #8d0005;
  }

  /* ===== Header ===== */
  .header{
    display:grid;
    grid-template-columns: 130px 1fr 130px 80px;
    align-items:center;
    gap:16px;
    padding:6px 6px 10px;
    border-bottom: 2px solid #d9dadf;
  }
  .logo{
    width:100%;
    max-height:54px;
    object-fit:contain;
    filter: saturate(.92) contrast(.98);
  }
  .title{
    text-align:center;
    line-height:1.2;
    font-weight:800;
    letter-spacing:.2px;
    font-size:18px;
  }
  .title span{ display:block; font-weight:700; font-size:14px}
  .badge{
    justify-self:end;
    width:72px;height:72px;border-radius:50%;
    background:linear-gradient(#f8f8fb,#ececf3);
    border:1px solid #d8d8de;
    display:grid;place-items:center;
    font-size:22px;color:#a30d10
  }

  /* ===== Content area (two panels) ===== */
  .content{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:22px;
    padding:14px 4px 6px;
  }

  .panel{
    border: 2px solid #8b0a0c;
    background: linear-gradient(#fafafa,#f4f4f7);
    border-radius:8px;
    padding:16px;
    min-height:300px;
  }

  .panel h3{
    margin:0 0 10px;
    font-size:16px;
    font-weight:800;
    text-align:center;
  }

  /* Left: Material Prestado (list) */
  .list{
    display:flex;
    flex-direction:column;
    gap:14px;
  }
  .item{
    display:grid;
    grid-template-columns: 46px 1fr 28px;
    align-items:center;
    gap:10px;
    padding:10px;
    background:#fff;
    border:2px solid var(--stroke);
    border-radius:8px;
    box-shadow: inset 0 0 0 1px #f7f7fb;
    cursor:pointer;
    transition:.15s ease;
  }
  .item:hover{
    transform:translateY(-1px);
    box-shadow: 0 6px 16px rgba(0,0,0,.08);
    border-color:#e0e0e6;
  }
  .item i.file{
    font-size:22px;
    color:#b20f12;
  }
  .item .name{
    font-weight:700;
  }
  .item .meta{
    color:var(--muted);
    font-size:12px;
  }
  .gear{
    color:#bd1520;
    opacity:.85;
  }

  /* Right: Formulario */
  .panel.right{
    background:var(--panel);
    border-color:#9b9ca2;
  }

  .form .row{
    display:grid;
    grid-template-columns: 110px 1fr;
    gap:10px;
    align-items:center;
    margin:12px 0;
  }
  label{font-weight:700}
  input[type="text"],
  input[type="date"],
  input[type="number"]{
    width:100%;
    padding:10px 12px;
    border:2px solid #d3d4da;
    border-radius:6px;
    background:#fff;
    outline:none;
    transition:border-color .12s, box-shadow .12s;
  }
  input:focus{
    border-color:#c63a3a;
    box-shadow: 0 0 0 3px rgba(195, 53, 53, .15);
  }

  /* ===== Footer buttons ===== */
  .actions{
    display:flex;
    gap:18px;
    justify-content:center;
    padding-top:10px;
  }
  .btn{
    padding:12px 20px;
    border:none;
    border-radius:999px;
    font-weight:800;
    cursor:pointer;
    box-shadow: 0 8px 18px rgba(0,0,0,.20);
    transition: transform .08s ease, box-shadow .15s ease, filter .15s ease;
  }
  .btn:active{ transform: translateY(1px); }
  .btn.primary{
    background:linear-gradient(180deg, #b20f12, #8f0d0f);
    color:#fff;
  }
  .btn.primary:hover{ filter:brightness(1.03); box-shadow: 0 10px 22px rgba(178,15,18,.35); }
  .btn.secondary{
    background:#fff;
    color:#8f0d0f;
    border:2px solid #8f0d0f;
  }
  .btn.secondary:hover{ background:#fff7f7 }

  /* corner nav icons */
  .corner-nav{
    position:absolute;
    right:18px;
    bottom:16px;
    display:flex; gap:14px;
  }
  .iconbtn{
    width:44px;height:44px;border-radius:10px;
    display:grid;place-items:center;
    border:2px solid #8b0a0c;background:#fff;
    color:#8b0a0c;font-size:18px;cursor:pointer;
    box-shadow: 0 6px 14px rgba(0,0,0,.18);
    transition:.12s ease;
  }
  .iconbtn:hover{ transform: translateY(-1px); background:#fff3f3 }

  /* toast */
  #toast{
    position:fixed;left:50%;bottom:26px;transform:translateX(-50%);
    z-index:50;pointer-events:none;
  }
  #toast .card{
    background:rgba(29,29,31,.92);
    color:#fff;border-radius:10px;padding:12px 16px;
    box-shadow:0 12px 30px rgba(0,0,0,.4);
    font-weight:600; letter-spacing:.2px;
    opacity:0; transform:translateY(12px);
    transition:.2s ease;
  }
  #toast.show .card{ opacity:1; transform:translateY(0) }

  /* responsive */
  @media (max-width: 880px){
    .content{ grid-template-columns:1fr }
    .header{ grid-template-columns: 90px 1fr 90px 60px; }
    .badge{ width:60px;height:60px }
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="frame" role="region" aria-label="Devolución de material">
      <!-- Header -->
      <div class="header">
        <img class="logo" src="" alt="Logo Educación (colócalo aquí si quieres)" />
        <div class="title">
          DEVOLUCIÓN DEPARTAMENTO DE<br>
          INGENIERÍA ELÉCTRICA–ELECTRÓNICA
          <span>Instituto Tecnológico de Saltillo</span>
        </div>
        <img class="logo" src="" alt="Logo TecNM (colócalo aquí si quieres)" />
        <div class="badge"><i class="fa-solid fa-shield-halved" aria-hidden="true"></i></div>
      </div>

      <!-- Content -->
      <div class="content">
        <!-- Left panel: Material Prestado -->
        <section class="panel left" aria-labelledby="lp">
          <h3 id="lp">Material Prestado</h3>
          <div id="list" class="list" role="list">
            <!-- Se rellena por JS -->
          </div>
        </section>

        <!-- Right panel: Devolución de Material -->
        <section class="panel right" aria-labelledby="rp">
          <h3 id="rp">Devolución de Material</h3>

          <form id="form" class="form" novalidate>
            <div class="row">
              <label for="fecha">Fecha:</label>
              <input id="fecha" name="fecha" type="date" required>
            </div>
            <div class="row">
              <label for="materia">Materia:</label>
              <input id="materia" name="materia" type="text" placeholder="Ej. Circuitos II" required>
            </div>
            <div class="row">
              <label for="maestro">Maestro:</label>
              <input id="maestro" name="maestro" type="text" placeholder="Nombre del docente" required>
            </div>
            <div class="row">
              <label for="mesa">Mesa:</label>
              <input id="mesa" name="mesa" type="number" min="1" step="1" placeholder="No. de mesa" required>
            </div>
          </form>
        </section>
      </div>

      <!-- Buttons -->
      <div class="actions">
        <button class="btn primary" id="btnConfirmar">
          Confirmar devolución de material
        </button>
        <button class="btn secondary" id="btnCancelar">Cancelar</button>
      </div>

      <!-- Corner nav -->
      <div class="corner-nav" aria-label="Acciones rápidas">
        <button class="iconbtn" title="Atrás" id="btnBack"><i class="fa-solid fa-arrow-left"></i></button>
        <button class="iconbtn" title="Inicio" id="btnHome"><i class="fa-solid fa-house"></i></button>
        <button class="iconbtn" title="Salir" id="btnExit"><i class="fa-solid fa-right-from-bracket"></i></button>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast"></div>

<script>
///* =========================================================
//    Datos de ejemplo (simulan materiales prestados)
// ========================================================= */
// const MATERIAL_PRESTADO = [
//   { id: 1, nombre: "Multímetro Fluke", materia: "Electrónica I", detalle: "Inventario: E-023" },
//   { id: 2, nombre: "Fuente DC 0–30V",   materia: "Circuitos II", detalle: "Mesa 4" },
//   { id: 3, nombre: "Osciloscopio 100MHz", materia: "Señales",     detalle: "N/P 7712" }
// ];

// /* =========================================================
//    Utilidades UI
// ========================================================= */
// const $ = (sel) => document.querySelector(sel);

// function showToast(msg){
//   const host = $("#toast");
//   host.innerHTML = `<div class="card" role="status">${msg}</div>`;
//   host.classList.add("show");
//   setTimeout(()=>host.classList.remove("show"), 2300);
// }

// /* Render de la lista izquierda */
// function renderList(){
//   const list = $("#list");
//   list.innerHTML = "";
//   MATERIAL_PRESTADO.forEach(it=>{
//     const li = document.createElement("button");
//     li.type = "button";
//     li.className = "item";
//     li.setAttribute("role","listitem");
//     li.innerHTML = `
//       <i class="fa-regular fa-file-lines file" aria-hidden="true"></i>
//       <div>
//         <div class="name">${it.nombre}</div>
//         <div class="meta">${it.detalle}</div>
//       </div>
//       <i class="fa-solid fa-gear gear" aria-hidden="true"></i>
//     `;
//     li.addEventListener("click", ()=>{
//       // autollenar Materia al elegir un material
//       $("#materia").value = it.materia;
//       $("#materia").focus();
//       showToast(`Seleccionado: ${it.nombre}`);
//     });
//     list.appendChild(li);
//   });
// }

// /* Validación simple del formulario */
// function getFormData(){
//   const fecha   = $("#fecha").value;
//   const materia = $("#materia").value.trim();
//   const maestro = $("#maestro").value.trim();
//   const mesa    = $("#mesa").value.trim();

//   if(!fecha || !materia || !maestro || !mesa){
//     throw new Error("Completa todos los campos para continuar.");
//   }
//   return { fecha, materia, maestro, mesa: Number(mesa) };
// }

// /* Eventos de botones */
// function wire(){
//   // fecha por defecto = hoy
//   $("#fecha").valueAsDate = new Date();

//   $("#btnConfirmar").addEventListener("click", ()=>{
//     try{
//       const data = getFormData();
//       // Aquí podrías hacer fetch a tu backend.
//       console.log("Devolución enviada:", data);
//       showToast("✅ Devolución registrada");
//       // Limpieza rápida:
//       $("#form").reset();
//       $("#fecha").valueAsDate = new Date();
//     }catch(err){
//       showToast("⚠️ " + err.message);
//     }
//   });

//   function verificarCampos() {
//   const fecha   = $("#fecha").value;
//   const materia = $("#materia").value.trim();
//   const maestro = $("#maestro").value.trim();
//   const mesa    = $("#mesa").value.trim();

//   const btnConfirmar = $("#btnConfirmar");

//   // Si todos los campos tienen contenido, habilita el botón
//   if (fecha && materia && maestro && mesa) {
//     btnConfirmar.disabled = false;
//   } else {
//     btnConfirmar.disabled = true;
//   }
// }

// function wire(){
//   // fecha por defecto = hoy
//   $("#fecha").valueAsDate = new Date();

//   // Inicialmente, deshabilita el botón
//   $("#btnConfirmar").disabled = true;

//   // Escuchar cambios en los campos para activar/desactivar el botón
//   ["#fecha", "#materia", "#maestro", "#mesa"].forEach(sel => {
//     $(sel).addEventListener("input", verificarCampos);
//     $(sel).addEventListener("change", verificarCampos);
//   });

//   $("#btnConfirmar").addEventListener("click", ()=>{
//     try{
//       const data = getFormData();
//       console.log("Devolución enviada:", data);
//       showToast("✅ Devolución registrada");
//       $("#form").reset();
//       $("#fecha").valueAsDate = new Date();
//       verificarCampos(); // vuelve a desactivar tras limpiar
//     }catch(err){
//       showToast("⚠️ " + err.message);
//     }
//   });

//   $("#btnCancelar").addEventListener("click", ()=>{
//     $("#form").reset();
//     $("#fecha").valueAsDate = new Date();
//     verificarCampos(); // también desactiva
//     showToast("Operación cancelada");
//   });

//   $("#btnBack").onclick  = ()=> showToast("Ir atrás");
//   $("#btnHome").onclick  = ()=> showToast("Ir al inicio");
//   $("#btnExit").onclick  = ()=> showToast("Cerrar sesión");
// }

//   $("#btnCancelar").addEventListener("click", ()=>{
//     $("#form").reset();
//     $("#fecha").valueAsDate = new Date();
//     showToast("Operación cancelada");
//   });

//   // Íconos de esquina (puedes adaptar las rutas reales)
//   $("#btnBack").onclick  = ()=> showToast("Ir atrás");
//   $("#btnHome").onclick  = ()=> showToast("Ir al inicio");
//   $("#btnExit").onclick  = ()=> showToast("Cerrar sesión");
// }

// /* Init */
// renderList();
// wire(); 

/* =========================================================
   Datos de ejemplo (simulan materiales prestados)
========================================================= */
const MATERIAL_PRESTADO = [
  { id: 1, nombre: "Multímetro Fluke", materia: "Electrónica I", detalle: "Inventario: E-023" },
  { id: 2, nombre: "Fuente DC 0–30V",   materia: "Circuitos II", detalle: "Mesa 4" },
  { id: 3, nombre: "Osciloscopio 100MHz", materia: "Señales",     detalle: "N/P 7712" }
];

/*=========================================================
    Utilidades UI
 ========================================================= */
const $ = (sel) => document.querySelector(sel);

function showToast(msg){
  const host = $("#toast");
  host.innerHTML = `<div class="card" role="status">${msg}</div>`;
  host.classList.add("show");
  setTimeout(()=>host.classList.remove("show"), 2300);
}

/* Render lista izquierda */
function renderList(){
  const list = $("#list");
  list.innerHTML = "";
  MATERIAL_PRESTADO.forEach(it=>{
    const li = document.createElement("button");
    li.type = "button";
    li.className = "item";
    li.setAttribute("role","listitem");
    li.innerHTML = `
      <i class="fa-regular fa-file-lines file"></i>
      <div>
        <div class="name">${it.nombre}</div>
        <div class="meta">${it.detalle}</div>
      </div>
      <i class="fa-solid fa-gear gear"></i>
    `;
    li.addEventListener("click", ()=>{
      $("#materia").value = it.materia;
      $("#materia").focus();
      showToast(`Seleccionado: ${it.nombre}`);
      verificarCampos();
    });
    list.appendChild(li);
  });
}

/* Verifica que todos los campos estén llenos */
function verificarCampos() {
  const fecha   = $("#fecha").value;
  const materia = $("#materia").value.trim();
  const maestro = $("#maestro").value.trim();
  const mesa    = $("#mesa").value.trim();
  const btnConfirmar = $("#btnConfirmar");

  btnConfirmar.disabled = !(fecha && materia && maestro && mesa);
}

/* Obtiene los datos del formulario */
function getFormData(){
  return {
    fecha: $("#fecha").value,
    materia: $("#materia").value.trim(),
    maestro: $("#maestro").value.trim(),
    mesa: Number($("#mesa").value.trim())
  };
}

/* Configura eventos */
function wire(){
  $("#fecha").valueAsDate = new Date();
  $("#btnConfirmar").disabled = true;

  // Escucha cambios en los campos
  ["#fecha", "#materia", "#maestro", "#mesa"].forEach(sel => {
    $(sel).addEventListener("input", verificarCampos);
    $(sel).addEventListener("change", verificarCampos);
  });

  $("#btnConfirmar").addEventListener("click", ()=>{
    const data = getFormData();
    console.log("Devolución enviada:", data);
    showToast("✅ Devolución registrada");
    $("#form").reset();
    $("#fecha").valueAsDate = new Date();
    verificarCampos();
  });

  $("#btnCancelar").addEventListener("click", ()=>{
    $("#form").reset();
    $("#fecha").valueAsDate = new Date();
    verificarCampos();
    showToast("Operación cancelada");
  });

  // Íconos de esquina (puedes adaptar las rutas reales)
  $("#btnBack").onclick  = ()=> showToast("Ir atrás");
  $("#btnHome").onclick  = ()=> showToast("Ir al inicio");
  $("#btnExit").onclick  = ()=> showToast("Cerrar sesión");
}

/* Init */
renderList();
wire();

</script>
</body>
</html>
